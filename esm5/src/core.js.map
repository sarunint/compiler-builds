{"version":3,"file":"core.js","sourceRoot":"","sources":["../../../../../packages/compiler/src/core.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n// Attention:\n// This file duplicates types and values from @angular/core\n// so that we are able to make @angular/compiler independent of @angular/core.\n// This is important to prevent a build cycle, as @angular/core needs to\n// be compiled with the compiler.\n\nimport {CssSelector} from './selector';\n\nexport interface Inject { token: any; }\nexport const createInject = makeMetadataFactory<Inject>('Inject', (token: any) => ({token}));\nexport const createInjectionToken = makeMetadataFactory<object>(\n    'InjectionToken', (desc: string) => ({_desc: desc, ngInjectableDef: undefined}));\n\nexport interface Attribute { attributeName?: string; }\nexport const createAttribute =\n    makeMetadataFactory<Attribute>('Attribute', (attributeName?: string) => ({attributeName}));\n\nexport interface Query {\n  descendants: boolean;\n  first: boolean;\n  read: any;\n  isViewQuery: boolean;\n  selector: any;\n}\n\nexport const createContentChildren = makeMetadataFactory<Query>(\n    'ContentChildren',\n    (selector?: any, data: any = {}) =>\n        ({selector, first: false, isViewQuery: false, descendants: false, ...data}));\nexport const createContentChild = makeMetadataFactory<Query>(\n    'ContentChild', (selector?: any, data: any = {}) =>\n                        ({selector, first: true, isViewQuery: false, descendants: true, ...data}));\nexport const createViewChildren = makeMetadataFactory<Query>(\n    'ViewChildren', (selector?: any, data: any = {}) =>\n                        ({selector, first: false, isViewQuery: true, descendants: true, ...data}));\nexport const createViewChild = makeMetadataFactory<Query>(\n    'ViewChild', (selector: any, data: any) =>\n                     ({selector, first: true, isViewQuery: true, descendants: true, ...data}));\n\nexport interface Directive {\n  selector?: string;\n  inputs?: string[];\n  outputs?: string[];\n  host?: {[key: string]: string};\n  providers?: Provider[];\n  exportAs?: string;\n  queries?: {[key: string]: any};\n  guards?: {[key: string]: any};\n}\nexport const createDirective =\n    makeMetadataFactory<Directive>('Directive', (dir: Directive = {}) => dir);\n\nexport interface Component extends Directive {\n  changeDetection?: ChangeDetectionStrategy;\n  viewProviders?: Provider[];\n  moduleId?: string;\n  templateUrl?: string;\n  template?: string;\n  styleUrls?: string[];\n  styles?: string[];\n  animations?: any[];\n  encapsulation?: ViewEncapsulation;\n  interpolation?: [string, string];\n  entryComponents?: Array<Type|any[]>;\n  preserveWhitespaces?: boolean;\n}\nexport enum ViewEncapsulation {\n  Emulated = 0,\n  Native = 1,\n  None = 2,\n  ShadowDom = 3\n}\n\nexport enum ChangeDetectionStrategy {\n  OnPush = 0,\n  Default = 1\n}\n\nexport const createComponent = makeMetadataFactory<Component>(\n    'Component', (c: Component = {}) => ({changeDetection: ChangeDetectionStrategy.Default, ...c}));\n\nexport interface Pipe {\n  name: string;\n  pure?: boolean;\n}\nexport const createPipe = makeMetadataFactory<Pipe>('Pipe', (p: Pipe) => ({pure: true, ...p}));\n\nexport interface Input { bindingPropertyName?: string; }\nexport const createInput =\n    makeMetadataFactory<Input>('Input', (bindingPropertyName?: string) => ({bindingPropertyName}));\n\nexport interface Output { bindingPropertyName?: string; }\nexport const createOutput = makeMetadataFactory<Output>(\n    'Output', (bindingPropertyName?: string) => ({bindingPropertyName}));\n\nexport interface HostBinding { hostPropertyName?: string; }\nexport const createHostBinding = makeMetadataFactory<HostBinding>(\n    'HostBinding', (hostPropertyName?: string) => ({hostPropertyName}));\n\nexport interface HostListener {\n  eventName?: string;\n  args?: string[];\n}\nexport const createHostListener = makeMetadataFactory<HostListener>(\n    'HostListener', (eventName?: string, args?: string[]) => ({eventName, args}));\n\nexport interface NgModule {\n  providers?: Provider[];\n  declarations?: Array<Type|any[]>;\n  imports?: Array<Type|ModuleWithProviders|any[]>;\n  exports?: Array<Type|any[]>;\n  entryComponents?: Array<Type|any[]>;\n  bootstrap?: Array<Type|any[]>;\n  schemas?: Array<SchemaMetadata|any[]>;\n  id?: string;\n}\nexport const createNgModule =\n    makeMetadataFactory<NgModule>('NgModule', (ngModule: NgModule) => ngModule);\n\nexport interface ModuleWithProviders {\n  ngModule: Type;\n  providers?: Provider[];\n}\nexport interface Injectable {\n  providedIn?: Type|'root'|any;\n  useClass?: Type|any;\n  useExisting?: Type|any;\n  useValue?: any;\n  useFactory?: Type|any;\n  deps?: Array<Type|any[]>;\n}\nexport const createInjectable =\n    makeMetadataFactory('Injectable', (injectable: Injectable = {}) => injectable);\nexport interface SchemaMetadata { name: string; }\n\nexport const CUSTOM_ELEMENTS_SCHEMA: SchemaMetadata = {\n  name: 'custom-elements'\n};\n\nexport const NO_ERRORS_SCHEMA: SchemaMetadata = {\n  name: 'no-errors-schema'\n};\n\nexport const createOptional = makeMetadataFactory('Optional');\nexport const createSelf = makeMetadataFactory('Self');\nexport const createSkipSelf = makeMetadataFactory('SkipSelf');\nexport const createHost = makeMetadataFactory('Host');\n\nexport interface Type extends Function { new (...args: any[]): any; }\nexport const Type = Function;\n\nexport enum SecurityContext {\n  NONE = 0,\n  HTML = 1,\n  STYLE = 2,\n  SCRIPT = 3,\n  URL = 4,\n  RESOURCE_URL = 5,\n}\n\nexport type Provider = any;\n\nexport const enum NodeFlags {\n  None = 0,\n  TypeElement = 1 << 0,\n  TypeText = 1 << 1,\n  ProjectedTemplate = 1 << 2,\n  CatRenderNode = TypeElement | TypeText,\n  TypeNgContent = 1 << 3,\n  TypePipe = 1 << 4,\n  TypePureArray = 1 << 5,\n  TypePureObject = 1 << 6,\n  TypePurePipe = 1 << 7,\n  CatPureExpression = TypePureArray | TypePureObject | TypePurePipe,\n  TypeValueProvider = 1 << 8,\n  TypeClassProvider = 1 << 9,\n  TypeFactoryProvider = 1 << 10,\n  TypeUseExistingProvider = 1 << 11,\n  LazyProvider = 1 << 12,\n  PrivateProvider = 1 << 13,\n  TypeDirective = 1 << 14,\n  Component = 1 << 15,\n  CatProviderNoDirective =\n      TypeValueProvider | TypeClassProvider | TypeFactoryProvider | TypeUseExistingProvider,\n  CatProvider = CatProviderNoDirective | TypeDirective,\n  OnInit = 1 << 16,\n  OnDestroy = 1 << 17,\n  DoCheck = 1 << 18,\n  OnChanges = 1 << 19,\n  AfterContentInit = 1 << 20,\n  AfterContentChecked = 1 << 21,\n  AfterViewInit = 1 << 22,\n  AfterViewChecked = 1 << 23,\n  EmbeddedViews = 1 << 24,\n  ComponentView = 1 << 25,\n  TypeContentQuery = 1 << 26,\n  TypeViewQuery = 1 << 27,\n  StaticQuery = 1 << 28,\n  DynamicQuery = 1 << 29,\n  TypeModuleProvider = 1 << 30,\n  CatQuery = TypeContentQuery | TypeViewQuery,\n\n  // mutually exclusive values...\n  Types = CatRenderNode | TypeNgContent | TypePipe | CatPureExpression | CatProvider | CatQuery\n}\n\nexport const enum DepFlags {\n  None = 0,\n  SkipSelf = 1 << 0,\n  Optional = 1 << 1,\n  Self = 1 << 2,\n  Value = 1 << 3,\n}\n\n/**\n * Injection flags for DI.\n */\nexport const enum InjectFlags {\n  Default = 0,\n\n  /**\n   * Specifies that an injector should retrieve a dependency from any injector until reaching the\n   * host element of the current component. (Only used with Element Injector)\n   */\n  Host = 1 << 0,\n  /** Don't descend into ancestors of the node requesting injection. */\n  Self = 1 << 1,\n  /** Skip the node that is requesting injection. */\n  SkipSelf = 1 << 2,\n  /** Inject `defaultValue` instead if token not found. */\n  Optional = 1 << 3,\n}\n\nexport const enum ArgumentType {Inline = 0, Dynamic = 1}\n\nexport const enum BindingFlags {\n  TypeElementAttribute = 1 << 0,\n  TypeElementClass = 1 << 1,\n  TypeElementStyle = 1 << 2,\n  TypeProperty = 1 << 3,\n  SyntheticProperty = 1 << 4,\n  SyntheticHostProperty = 1 << 5,\n  CatSyntheticProperty = SyntheticProperty | SyntheticHostProperty,\n\n  // mutually exclusive values...\n  Types = TypeElementAttribute | TypeElementClass | TypeElementStyle | TypeProperty\n}\n\nexport const enum QueryBindingType {First = 0, All = 1}\n\nexport const enum QueryValueType {\n  ElementRef = 0,\n  RenderElement = 1,\n  TemplateRef = 2,\n  ViewContainerRef = 3,\n  Provider = 4\n}\n\nexport const enum ViewFlags {\n  None = 0,\n  OnPush = 1 << 1,\n}\n\nexport enum MissingTranslationStrategy {\n  Error = 0,\n  Warning = 1,\n  Ignore = 2,\n}\n\nexport interface MetadataFactory<T> {\n  (...args: any[]): T;\n  isTypeOf(obj: any): obj is T;\n  ngMetadataName: string;\n}\n\nfunction makeMetadataFactory<T>(name: string, props?: (...args: any[]) => T): MetadataFactory<T> {\n  const factory: any = (...args: any[]) => {\n    const values = props ? props(...args) : {};\n    return {\n      ngMetadataName: name,\n      ...values,\n    };\n  };\n  factory.isTypeOf = (obj: any) => obj && obj.ngMetadataName === name;\n  factory.ngMetadataName = name;\n  return factory;\n}\n\nexport interface Route {\n  children?: Route[];\n  loadChildren?: string|Type|any;\n}\n\n/**\n * Flags used to generate R3-style CSS Selectors. They are pasted from\n * core/src/render3/projection.ts because they cannot be referenced directly.\n */\nexport const enum SelectorFlags {\n  /** Indicates this is the beginning of a new negative selector */\n  NOT = 0b0001,\n\n  /** Mode for matching attributes */\n  ATTRIBUTE = 0b0010,\n\n  /** Mode for matching tag names */\n  ELEMENT = 0b0100,\n\n  /** Mode for matching class names */\n  CLASS = 0b1000,\n}\n\n// These are a copy the CSS types from core/src/render3/interfaces/projection.ts\n// They are duplicated here as they cannot be directly referenced from core.\nexport type R3CssSelector = (string | SelectorFlags)[];\nexport type R3CssSelectorList = R3CssSelector[];\n\nfunction parserSelectorToSimpleSelector(selector: CssSelector): R3CssSelector {\n  const classes = selector.classNames && selector.classNames.length ?\n      [SelectorFlags.CLASS, ...selector.classNames] :\n      [];\n  const elementName = selector.element && selector.element !== '*' ? selector.element : '';\n  return [elementName, ...selector.attrs, ...classes];\n}\n\nfunction parserSelectorToNegativeSelector(selector: CssSelector): R3CssSelector {\n  const classes = selector.classNames && selector.classNames.length ?\n      [SelectorFlags.CLASS, ...selector.classNames] :\n      [];\n\n  if (selector.element) {\n    return [\n      SelectorFlags.NOT | SelectorFlags.ELEMENT, selector.element, ...selector.attrs, ...classes\n    ];\n  } else if (selector.attrs.length) {\n    return [SelectorFlags.NOT | SelectorFlags.ATTRIBUTE, ...selector.attrs, ...classes];\n  } else {\n    return selector.classNames && selector.classNames.length ?\n        [SelectorFlags.NOT | SelectorFlags.CLASS, ...selector.classNames] :\n        [];\n  }\n}\n\nfunction parserSelectorToR3Selector(selector: CssSelector): R3CssSelector {\n  const positive = parserSelectorToSimpleSelector(selector);\n\n  const negative: R3CssSelectorList = selector.notSelectors && selector.notSelectors.length ?\n      selector.notSelectors.map(notSelector => parserSelectorToNegativeSelector(notSelector)) :\n      [];\n\n  return positive.concat(...negative);\n}\n\nexport function parseSelectorToR3Selector(selector: string): R3CssSelectorList {\n  const selectors = CssSelector.parse(selector);\n  return selectors.map(parserSelectorToR3Selector);\n}\n\n// Pasted from render3/interfaces/definition since it cannot be referenced directly\n/**\n * Flags passed into template functions to determine which blocks (i.e. creation, update)\n * should be executed.\n *\n * Typically, a template runs both the creation block and the update block on initialization and\n * subsequent runs only execute the update block. However, dynamically created views require that\n * the creation block be executed separately from the update block (for backwards compat).\n */\nexport const enum RenderFlags {\n  /* Whether to run the creation block (e.g. create elements and directives) */\n  Create = 0b01,\n\n  /* Whether to run the update block (e.g. refresh bindings) */\n  Update = 0b10\n}\n\nexport const enum InitialStylingFlags {\n  VALUES_MODE = 0b1,\n}\n\n// Pasted from render3/interfaces/node.ts\n/**\n * A set of marker values to be used in the attributes arrays. Those markers indicate that some\n * items are not regular attributes and the processing should be adapted accordingly.\n */\nexport const enum AttributeMarker {\n  /**\n   * Marker indicates that the following 3 values in the attributes array are:\n   * namespaceUri, attributeName, attributeValue\n   * in that order.\n   */\n  NamespaceURI = 0,\n\n  /**\n   * This marker indicates that the following attribute names were extracted from bindings (ex.:\n   * [foo]=\"exp\") and / or event handlers (ex. (bar)=\"doSth()\").\n   * Taking the above bindings and outputs as an example an attributes array could look as follows:\n   * ['class', 'fade in', AttributeMarker.SelectOnly, 'foo', 'bar']\n   */\n  SelectOnly = 1\n}"]}
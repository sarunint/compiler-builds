{"version":3,"file":"dom_security_schema.js","sourceRoot":"","sources":["../../../../../../packages/compiler/src/schema/dom_security_schema.ts"],"names":[],"mappings":"AAAA;;;;;;GAMG;AAEH,OAAO,EAAC,eAAe,EAAC,MAAM,SAAS,CAAC;AAExC,oGAAoG;AACpG,oGAAoG;AACpG,oGAAoG;AACpG,oGAAoG;AACpG,oGAAoG;AACpG,EAAE;AACF,2FAA2F;AAC3F,kEAAkE;AAClE,EAAE;AACF,oGAAoG;AAEpG,8FAA8F;AAC9F,IAAI,gBAAkD,CAAC;AAEvD,MAAM,UAAU,eAAe;IAC7B,IAAI,CAAC,gBAAgB,EAAE;QACrB,gBAAgB,GAAG,EAAE,CAAC;QACtB,2FAA2F;QAE3F,eAAe,CAAC,eAAe,CAAC,IAAI,EAAE;YACpC,eAAe;YACf,aAAa;YACb,aAAa;SACd,CAAC,CAAC;QACH,eAAe,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC;QACpD,wFAAwF;QACxF,eAAe,CAAC,eAAe,CAAC,GAAG,EAAE;YACnC,cAAc,EAAE,WAAW,EAAQ,WAAW,EAAQ,WAAW,EAAK,QAAQ;YAC9E,QAAQ,EAAQ,iBAAiB,EAAE,iBAAiB,EAAE,UAAU,EAAM,aAAa;YACnF,SAAS,EAAO,YAAY,EAAO,WAAW,EAAQ,UAAU,EAAM,QAAQ;YAC9E,YAAY,EAAI,eAAe,EAAI,WAAW,EAAQ,cAAc,EAAE,WAAW;SAClF,CAAC,CAAC;QACH,eAAe,CAAC,eAAe,CAAC,YAAY,EAAE;YAC5C,aAAa;YACb,iBAAiB;YACjB,WAAW;YACX,WAAW;YACX,WAAW;YACX,cAAc;YACd,eAAe;YACf,YAAY;YACZ,WAAW;YACX,WAAW;YACX,iBAAiB;YACjB,aAAa;YACb,YAAY;SACb,CAAC,CAAC;KACJ;IACD,OAAO,gBAAgB,CAAC;AAC1B,CAAC;AAED,SAAS,eAAe,CAAC,GAAoB,EAAE,KAAe;IAC5D,KAAmB,UAAK,EAAL,eAAK,EAAL,mBAAK,EAAL,IAAK;QAAnB,IAAM,IAAI,cAAA;QAAW,gBAAgB,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,GAAG,GAAG,CAAC;KAAA;AACvE,CAAC","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {SecurityContext} from '../core';\n\n// =================================================================================================\n// =================================================================================================\n// =========== S T O P   -  S T O P   -  S T O P   -  S T O P   -  S T O P   -  S T O P  ===========\n// =================================================================================================\n// =================================================================================================\n//\n//        DO NOT EDIT THIS LIST OF SECURITY SENSITIVE PROPERTIES WITHOUT A SECURITY REVIEW!\n//                               Reach out to mprobst for details.\n//\n// =================================================================================================\n\n/** Map from tagName|propertyName SecurityContext. Properties applying to all tags use '*'. */\nlet _SECURITY_SCHEMA !: {[k: string]: SecurityContext};\n\nexport function SECURITY_SCHEMA(): {[k: string]: SecurityContext} {\n  if (!_SECURITY_SCHEMA) {\n    _SECURITY_SCHEMA = {};\n    // Case is insignificant below, all element and attribute names are lower-cased for lookup.\n\n    registerContext(SecurityContext.HTML, [\n      'iframe|srcdoc',\n      '*|innerHTML',\n      '*|outerHTML',\n    ]);\n    registerContext(SecurityContext.STYLE, ['*|style']);\n    // NB: no SCRIPT contexts here, they are never allowed due to the parser stripping them.\n    registerContext(SecurityContext.URL, [\n      '*|formAction', 'area|href',       'area|ping',       'audio|src',    'a|href',\n      'a|ping',       'blockquote|cite', 'body|background', 'del|cite',     'form|action',\n      'img|src',      'img|srcset',      'input|src',       'ins|cite',     'q|cite',\n      'source|src',   'source|srcset',   'track|src',       'video|poster', 'video|src',\n    ]);\n    registerContext(SecurityContext.RESOURCE_URL, [\n      'applet|code',\n      'applet|codebase',\n      'base|href',\n      'embed|src',\n      'frame|src',\n      'head|profile',\n      'html|manifest',\n      'iframe|src',\n      'link|href',\n      'media|src',\n      'object|codebase',\n      'object|data',\n      'script|src',\n    ]);\n  }\n  return _SECURITY_SCHEMA;\n}\n\nfunction registerContext(ctx: SecurityContext, specs: string[]) {\n  for (const spec of specs) _SECURITY_SCHEMA[spec.toLowerCase()] = ctx;\n}\n"]}